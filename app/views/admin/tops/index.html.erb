<h4>拖拽改变置顶顺序</h4>

<ol class="sortable">

  <% @tops.each do |top| %>
    <li data-id="<%= top.id %>">
      <%= top.model.title %>
    </li>
  <% end %>

</ol>

<script>
  $(".sortable").sortable().bind('sortupdate',function(e,ui){
    $.post("/admin/tops/set_position",{old_position: ui.oldindex, new_position: ui.item.index()})
            .done(function(){
              alert("顺序更改成功!");
            })
            .fail(function(){
              alert("顺序更改失败!");
            });
  });
</script>